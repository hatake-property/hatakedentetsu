<!DOCTYPE html>

<html lang="ja">

<head>
	<meta charset="UTF-8">
	<meta name="description" content="Let's move the block and let the light transmit!">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Transmit</title>

	<style>
		body {
			margin: 0;
			overflow: hidden;
			padding: 0;
		}

		#background {
			background-color: black;
			height: 100vh;
			width: 100vw;
		}

		@media (min-aspect-ratio: 1/1) {
			#foreground {
				position: absolute;
				top: 20vh;
				left: calc((100vw - 60vh) / 2);
				height: 60vh;
				width: 60vh;
			}
		}

		@media (max-aspect-ratio: 1/1) {
			#foreground {
				position: absolute;
				top: calc((100vh - 60vw) / 2);
				left: 20vw;
				height: 60vw;
				width: 60vw;
			}
		}
	</style>
</head>

<body>
	<canvas id="background"></canvas>
	<canvas id="foreground"></canvas>

	<script>
		class Block {
			static type_1_2 = 0;
			static type_1_3 = 1;
			static type_2_1 = 2;
			static type_3_1 = 3;
			static side = window.innerWidth / 10;

			constructor(x, y, type) {
				this._x = x;
				this._y = y;
				this._type = type;
			}

			get x() {
				return this._x;
			}

			get y() {
				return this._y;
			}

			get type() {
				return this._type;
			}
		}

		var block = [];

		function drowBlock() {
			var baseCanvas = document.getElementById('baseCanvas');
			var base = baseCanvas.getContext('2d');
			base.fillStyle = "blue";
			for (let i = 0; i < block.length; i ++) {
				switch(block[i].type) {
					case Block.type_1_2:
						base.fillRect(block[i].x * Block.side, block[i].y * Block.side, Block.side * 1, Block.side * 2);
						break;
					case Block.type_1_3:
						base.fillRect(block[i].x * Block.side, block[i].y * Block.side, Block.side * 1, Block.side * 3);
						break;
					case Block.type_2_1:
						base.fillRect(block[i].x * Block.side, block[i].y * Block.side, Block.side * 2, Block.side * 1);
						break;
					case Block.type_3_1:
						base.fillRect(block[i].x * Block.side, block[i].y * Block.side, Block.side * 3, Block.side * 1);
						break;
				}
			}
		}

		window.addEventListener('load', () => {
			const button = document.getElementById('startButton');
			block[0] = new Block(0, 0, Block.type_1_3);
			drowBlock();
		});
	</script>
</body>

</html>
